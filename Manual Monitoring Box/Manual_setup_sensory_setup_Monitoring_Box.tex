\documentclass{report}
\usepackage{inputenc} 
\usepackage{graphicx}
\usepackage{caption}
\usepackage{float}

\title{Manual for setting up the sensors of the Monitoring Box}
\author{Mick Nieman \\ Amsterdam University of Applied Sciences \and Pjotr Scholtze \\ Amsterdam University of Applied Sciences \and Heeyeon Joung \\ Seoul National University of Science and Technolgy}
\date{November 2017}

\begin{document}
\maketitle
\begin{abstract}
This has not been written yet and still needs content to be placed here. 
\end{abstract}

\tableofcontents

\chapter{Introduction}

\chapter{Requirements}
For every sensor added there is need for an Arduino Nano. The Arduino Nano is a programmable microprocessor. Advanced users may be able to connect multiple sensors to a single Arduino Nano, note that this requires advanced knowledge of the communication protocols between the Raspberry Pi 3 b+ and Arduino Nano. Along with every Arduino Nano you need an USB A to Mini-USB B cable.  \\

The first item needed for the GPS sensor is the Global Positioning System (GPS) module. We have used the Digilent 410-237 GPS-receiver board. \\

For the temperature and humidity sensor we have used the DHT22 module, this is a digital temperature- and humidty sensor. the DHT22 is more accurate (0,5$^o$ accuracy) than the previous, DHT11. It has a temperature reach from -40 to +80 $^o$C. and has a humidity reach from 10\% to 90\% with an accuracy of 2,0 \%.  \\

The heart rate sensor consists of the MAXREFDES117\# Reference Design Board with optical heart rate and pulse-oximetry monitor. It has integrated Red and Infrared LEDs. This works best on a person's fingertip or earlobe. \\

The CO$_2$ sensor comes in two varieties, the regular sensor which is affordable but less accurate and the advanced which has a higher costs and comes with higher accuracy. \\
The 'Regular CO$_2$ sensor' uses the MIKROE-1630 Daughter Board from Air Quality Click. It's an MQ-135 High sensitivity air quality sensor and potentiometer. \\
The 'Advanced CO$_2$ sensor' uses CO2meter.com its K-30 sensor. The K-30 sensor is an accurate gas sensor sensing up to 5000ppm (CO$_2$) with an accuracy of 3\%. Note that the advanced CO$_2$ meter does not work on the Arduino Nano and is only tested on the Arduino Uno. \\

The raspberry Pi Cam doesn't require to be connected to an Arduino and can be plugged directly in to the Raspberry Pi its camera-port. For this project we used Sony's IMX219 8-Megapixel Pi Camera Board. It is able for taking photographs of 3280x2464 pixels or video's at 1080p at 30 frames per second. \\

The galvanic skin response sensor, or short GSR, measures the galvanic skin response based on the electrical conductance of the skin. For the Monitoring Box we have used the Grove-GSR sensor from seeed studio.\\

Every sensor has it's own schematics for assembling the sensors, the code running on the sensor can be downloaded from https://github.com/pjotrscholtze/MonitoringBox, for the exact link for a particular sensor see further into this document.  


\chapter{Glossary}

GND pin - Ground pin \\
A1 pin - Analog pin 1

\chapter{Pushing code to an Arduino Nano}

\chapter{Global Positioning System (GPS) sensor}
The Global Positioning System(GPS) sensor, from now on called the GPS sensor, is named PmodGPS. The schematics for the assembly of the sensor are as follows. \\

\begin{figure}[H]
\begin{center}
\includegraphics[scale=1]{images/GPS.jpg}
\caption{Global Positioning System Schematics}	
\end{center}
\end{figure}

Note that the actual sensor looks quite different, though the pinout is the same.\\

The actual sensor looks like the following:\\

\begin{figure}[H]
\begin{center}
\includegraphics[scale=1]{images/GPSsensor.png}
\caption{GPS sensor}
\end{center}
\end{figure}


\begin{itemize}
\item 'VCC3V3' of the GPS sensor goes to the 5V(or VCC) of the Arduino, 
\item 'GND' of the GPS sensor goes to the GND of the Arduino,
\item 'RXD' of the GPS sensor goes to D5 pin(TXD) of the Arduino 
\item 'TXD' of the GPS sensor goes to D6 pin(RXD) of the Arduino. 
\end{itemize}
Downloading the code from https://github.com/pjotrscholtze/MonitoringBox and uploading the code to the Arduino Nano should result in a functional GPS sensor.\\





\chapter{Temperature and humidity sensor}
The Temperature and humidity sensor is named 'DHT22' and 'AM2302'. The schematics for the assembly of the sensor are as follows.\\

\begin{figure}[H]
\begin{center}
\includegraphics[scale=1.25]{images/H&T.jpg}
\caption{Temperature and humidity Schematics}	
\end{center}
\end{figure}

Below is the picture of explaining pin on the DHT22 \\

\begin{figure}[H]
\begin{center}
\includegraphics[scale=0.25]{images/DHT22.jpg}
\caption{Temperature and humidity sensor}
\end{center}
\end{figure}


There is no pin name on the sensor, so you need to see the order in which the pins are listed. When looking at the sensor in front, I'll call the leftmost pin 'pin1'.\\

\begin{itemize}
\item 'pin 1' of the Temperature and humidity sensor(VCC) goes to the 5V(or VCC) of the Arduino, 
\item 'pin 2' of the Temperature and humidity sensor(DATA) goes to the D2 of the Arduino,
\item 'pin 3' of the Temperature and humidity sensor is nothing. You do not need to connect anything.
\item 'pin 4' of the Temperature and humidity sensor(GND) goes to GND of the Arduino.
\end{itemize}
 
Downloading the code from https://github.com/pjotrscholtze/MonitoringBox and uploading the code to the Arduino Nano should result in a functional Temperature and humidity sensor.\\


\chapter{Heartrate sensor}
The Heart-rate sensor which is a sensor developed by Maxim intergrated is named MAXREFDES117\#. The schematics for the assembly of the sensor are as follows.\\

\begin{figure}[H]
\begin{center}
\includegraphics[scale=1.25]{images/heartrate_bb.jpg}
\caption{Heart rate Schematic}
\end{center}
\end{figure}

Note that the actual sensor looks quite different, though the pinout is the same.\\

The actual sensor looks like the following:\\

\begin{figure}[H]
\begin{center}
\includegraphics[scale=0.25]{images/MAXREFDES117Fig00.png}
\caption{Heart rate sensor}
\end{center}
\end{figure}

\begin{itemize}
\item 'VIN' of the Heartrate sensor goes to the 5V(or VCC) of the Arduino, 
\item 'GND' of the Heartrate sensor goes to the GND of the Arduino,
\item 'SDA' of the Heartrate sensor goes to A4 pin(SDA) of the Arduino 
\item 'SCL' of the Heartrate sensor goes to A5 pin(SCL) of the Arduino.\\
\\In Arduino-nano that we used doesn't have SDA and SCL name on the arduino. However, A4 and A5 act as SDA and SCL, respectively. If your Arduino has an SDA or SCL pin, you can connect it by name.
 
\end{itemize}
Downloading the code from https://github.com/pjotrscholtze/MonitoringBox and uploading the code to the Arduino Nano should result in a functional GPS sensor. \\
For more information about this sensor, Please visit below website.\\
https://www.maximintegrated.com/en/design/reference-design-center/system-board/6300.html



\chapter{Regular carbon dioxide (CO$_2$) sensor}
The regular carbon dioxide (CO$_2$) sensor, from now on called the regular (CO$_2$) sensor, is a sensor developed by mikroelectronics, and the schematics for the assembly of the sensor are as follows. \\

\begin{figure}[H]
	\centering
\includegraphics[width=0.75\textwidth]{images/Mikroe-Gas-sensor-schematic.jpg}
	\caption{Air Quality Click Schematic}
\end{figure}

Note that the actual sensor looks slightly different, though the pinout is the same, the 5.5V pin of the Air-quility-click goes onto the 5.5V pin on the Arduino, the GND pin on the Air-quility-click  goes onto the GND pin on the Arduino and the OUT pin on the Air-quility-click goes onto the A1 pin of the Arduino. \\
The actual sensor looks like the following:\\

\begin{figure}[H]
	\centering
\includegraphics[width=0.75\textwidth]{images/air-quality-click-breakout.jpg} 
	\caption{The Mikroe Gas Detector}
\end{figure}

The code coming with this sensor can be downloaded with the following link: $ https://github.com/pjotrscholtze/MonitoringBox/tree/develop/Sensors/CO2\_Sensor $


Downloading the code and uploading this to the Arduino Nano and having it assembled as the schematics show should result in a functional sensor. 

\chapter{Advanced carbon dioxide (CO$_2$) sensor}
For starters, this CO$_2$ sensor is a little bit more complex than the other CO$_2$ sensor from the previous chapter. This sensor is more accurate but also works in a different way and not only the accuracy is higher, so is the price. 
The CO$_2$ sensor is developed by CO2meter.com and currently we're using the K30 model. During our testing phase we discovered that the K30 model is not compatible with the Arduino Nano nor with the Arduino Pro Mini but it is compatible with the Arduino UNO. 

\begin{figure}[H]
	\centering
\includegraphics[width=0.75\textwidth]{images/K30-gas-sensor-schematic.jpg} 
	\caption{The K30 CO$_2$ sensor from  CO2meter.com}
\end{figure}

After assembling the pins the right way, note that the pins on the K30 aren't labeled, but you will have to attach them to the inner (second) row, skipping the first pin, so using pin 2, 3, 4 and 5 from right to left. 
\begin{itemize}
\item 'pin 2' of the K30 goes to the GND of the Arduino, 
\item 'pin 3' of the K30 goes to the 5V (or VCC) of the Arduino,
\item 'pin 4' (the RXD pin) of the K30 goes to pin 12 (TXD)of the Arduino 
\item 'pin 5' of the K30 (TXD) goes to pin 13 (RXD) of the Arduino. 

Downloading the code from https://github.com/pjotrscholtze/MonitoringBox and uploading the code to the Arduino UNO (this works the same way as with the Arduino Nano) should result in a functional CO$_2$ sensor. 
\end{itemize}
\chapter{Raspberry Pi Camera}

\chapter{Galvanic skin response sensor}
Galvanic skin response sensor(GSR) sensor, from now on called the GSR sensor, does nor require any sensor hardware. Only a little resistance is needed for stability. The schematics for the assembly of the sensor are as follows. \\

\begin{figure}[H]
\begin{center}
\includegraphics[scale=1.25]{images/GSR.jpg}
\caption{Galvanic skin response Schematic}
\end{center}
\end{figure}

The two current-carrying wires are connected to A0 and 5V, respectively, of the Arduino. The resistors for stability are connected to A0 and GND respectively.	\\

The way to use this GSR sensor is to put two fingers on two wires. Individual currents are different and will vary depending on emotional state or condition. To compare this, the result of the sensor will show the minimum, maximum and average values ​​of the current. An example of usage and an example of the result value are shown in the following photograph.
\chapter{Development issued example sensor}

\chapter{Development issued unknown sensor}

\end{document}
